Revise and break down code into two separate components.
